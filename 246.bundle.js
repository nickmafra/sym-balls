"use strict";(self.webpackChunksym_balls=self.webpackChunksym_balls||[]).push([[246],{246:(e,t,i)=>{i.r(t),i.d(t,{default:()=>d});var o=i(78),a=(i(288),i(224)),l=i(477),r=i(90);const s=new l.xo$(1,16,8),n=new l.xo$(1,3,2),c=1*Math.PI;let h={indexToBall:e=>r.Z.indexToMesh(e,s),indexToPyramid:e=>r.Z.indexToMesh(e,n),mappingToGroup(e){let t=this.indexToBall(e.from);t.position.setX(-.6);let i=this.indexToPyramid(e.to);i.position.setX(.6),i.scale.setX(-1);let o=[t,i];const a=new l.ZAu;return o.forEach((e=>a.add(e))),a.scale.divideScalar(1.6),a},build(e){let t=e.map((e=>this.mappingToGroup(e)));return r.Z.makeBubble(t)}};class d extends o.Z{mapping=null;constructor(e){super(),this.gameItem=e,this.mapping=e.getPermutation().map(((e,t)=>({from:t,to:e}))).filter((e=>e.from!=e.to)),this.gfxObject=h.build(this.mapping),o.Z.configNewObject(this)}createNewFrom(e){return new d(e)}animate(e,t){a.Z.value.itemOscillation&&this.#e(t),"DISABLED"!==a.Z.value.rotateMode&&this.#t(t)}#e(e){let t=Math.cos(e*c);this.gfxObject.scale.setScalar(.25*(1+.0125*t))}#t(e){"3D"===a.Z.value.rotateMode&&(this.gfxObject.children[0].rotation.x=.25*e),this.gfxObject.children[0].rotation.z=.25*e,this.gfxObject.children[0].children.filter((e=>e.children.length>=2)).forEach((t=>{"3D"===a.Z.value.rotateMode&&(t.rotation.x=.5*e),t.rotation.z=1.5*e/t.children.length}))}}}}]);