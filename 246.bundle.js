"use strict";(self.webpackChunksym_balls=self.webpackChunksym_balls||[]).push([[246],{246:(t,e,i)=>{i.r(e),i.d(e,{default:()=>d});var o=i(78),a=(i(288),i(224)),l=i(477),s=i(90);const n=new l.xo$(1,16,8),r=new l.xo$(1,3,2),c=1*Math.PI;let h={indexToBall:t=>s.Z.indexToMesh(t,n),indexToPyramid:t=>s.Z.indexToMesh(t,r),mappingToGroup(t){let e=this.indexToBall(t.from);e.position.setX(-.6);let i=this.indexToPyramid(t.to);i.position.setX(.6),i.scale.setX(-1);let o=[e,i];const a=new l.ZAu;return o.forEach((t=>a.add(t))),a.scale.divideScalar(1.6),a},build(t){let e=t.map((t=>this.mappingToGroup(t)));return s.Z.makeBubble(e)}};class d extends o.Z{mapping=null;constructor(t){super(),this.gameItem=t,this.mapping=t.getPermutation().map(((t,e)=>({from:e,to:t}))).filter((t=>t.from!=t.to)),this.gfxObject=h.build(this.mapping),o.Z.configNewObject(this)}animate(t,e){a.Z.value.itemOscillation&&this.#t(e),"DISABLED"!==a.Z.value.rotateMode&&this.#e(e)}#t(t){let e=Math.cos(t*c);this.gfxObject.scale.setScalar(.25*(1+.0125*e))}#e(t){"3D"===a.Z.value.rotateMode&&(this.gfxObject.children[0].rotation.x=.25*t),this.gfxObject.children[0].rotation.z=.25*t,this.gfxObject.children[0].children.filter((t=>t.children.length>=2)).forEach((e=>{"3D"===a.Z.value.rotateMode&&(e.rotation.x=.5*t),e.rotation.z=1.5*t/e.children.length}))}}}}]);