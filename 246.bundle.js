"use strict";(self.webpackChunksym_balls=self.webpackChunksym_balls||[]).push([[246],{90:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(477),o=i(224);const r=new a.xo$(1,32,16),n=new a.Ilk(16777215),l={colorList:[16711680,65280,255,16776960,65535,16711935],createCircleGroup(e,t,i){const o=new a.ZAu;e.forEach((e=>o.add(e)));const r=this.regularPolygonCircumradius(e.length,2*t);this.makeCircleWithObjects(e,r);const n=r+t+i;return o.scale.divideScalar(n),o},makeCircleWithObjects(e,t){let i=2*Math.PI/e.length;e.forEach(((e,a)=>{e.position.x=t*Math.cos(a*i),e.position.y=t*Math.sin(a*i)}))},regularPolygonCircumradius:(e,t)=>e<=1?0:t/(2*Math.sin(Math.PI/e)),indexToMesh(e,t){const i={color:this.colorList[e]},r=o.Z.value.lightningEnabled?new a.xoR(i):new a.vBJ(i);return new a.Kj0(t,r)},makeBubble(e){let t=this.createCircleGroup(e,1,.4);const i={color:n,transparent:!0,opacity:.3},l=o.Z.value.lightningEnabled?new a.xoR(i):new a.vBJ(i),s=new a.Kj0(r,l);return s.add(t),s.scale.multiplyScalar(.25),s}}},246:(e,t,i)=>{i.r(t),i.d(t,{default:()=>u});var a=i(78),o=(i(288),i(224)),r=i(477),n=i(90);const l=new r.xo$(1,16,8),s=new r.xo$(1,3,2),c=1*Math.PI;let h={indexToBall:e=>n.Z.indexToMesh(e,l),indexToPyramid:e=>n.Z.indexToMesh(e,s),mappingToGroup(e){let t=this.indexToBall(e.from);t.position.setX(-.6);let i=this.indexToPyramid(e.to);i.position.setX(.6),i.scale.setX(-1);let a=[t,i];const o=new r.ZAu;return a.forEach((e=>o.add(e))),o.scale.divideScalar(1.6),o},build(e){let t=e.map((e=>this.mappingToGroup(e)));return n.Z.makeBubble(t)}};class u extends a.Z{mapping=null;constructor(e){super(),this.gameItem=e,this.mapping=e.getPermutation().map(((e,t)=>({from:t,to:e}))).filter((e=>e.from!=e.to)),this.gfxObject=h.build(this.mapping),this.gfxObject.userData=this}createNewFrom(e){return new u(e)}animate(e,t){o.Z.value.itemOscillation&&this.#e(t),"DISABLED"!==o.Z.value.rotateMode&&this.#t(t)}#e(e){let t=Math.cos(e*c);this.gfxObject.scale.setScalar(.25*(1+.0125*t))}#t(e){"3D"===o.Z.value.rotateMode&&(this.gfxObject.children[0].rotation.x=.25*e),this.gfxObject.children[0].rotation.z=.25*e,this.gfxObject.children[0].children.filter((e=>e.children.length>=2)).forEach((t=>{"3D"===o.Z.value.rotateMode&&(t.rotation.x=.5*e),t.rotation.z=1.5*e/t.children.length}))}}}}]);