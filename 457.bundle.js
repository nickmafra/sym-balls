"use strict";(self.webpackChunksym_balls=self.webpackChunksym_balls||[]).push([[457],{90:(e,t,r)=>{r.d(t,{Z:()=>o});var l=r(477),a=r(224);const i=new l.xo$(1,32,16),c=new l.Ilk(16777215),o={colorList:[16711680,65280,255,16776960,65535,16711935],createCircleGroup(e,t,r){const a=new l.ZAu;e.forEach((e=>a.add(e)));const i=this.regularPolygonCircumradius(e.length,2*t);this.makeCircleWithObjects(e,i);const c=i+t+r;return a.scale.divideScalar(c),a},makeCircleWithObjects(e,t){let r=2*Math.PI/e.length;e.forEach(((e,l)=>{e.position.x=t*Math.cos(l*r),e.position.y=t*Math.sin(l*r)}))},regularPolygonCircumradius:(e,t)=>e<=1?0:t/(2*Math.sin(Math.PI/e)),indexToMesh(e,t){const r={color:this.colorList[e]},i=a.Z.value.lightningEnabled?new l.xoR(r):new l.vBJ(r);return new l.Kj0(t,i)},makeBubble(e){let t=this.createCircleGroup(e,1,.4);const r={color:c,transparent:!0,opacity:.3},o=a.Z.value.lightningEnabled?new l.xoR(r):new l.vBJ(r),n=new l.Kj0(i,o);return n.add(t),n.scale.multiplyScalar(.25),n}}},457:(e,t,r)=>{r.r(t),r.d(t,{default:()=>h});var l=r(78),a=(r(288),r(54)),i=r(224),c=r(477),o=r(90);const n=new c.xo$(1,16,8);let s={indexToBall:e=>o.Z.indexToMesh(e,n),cycleToGroup(e){let t=e.map((e=>this.indexToBall(e)));return o.Z.createCircleGroup(t,1,.5)},build(e){let t=e.map((e=>this.cycleToGroup(e)));return o.Z.makeBubble(t)}};class h extends l.Z{cycles=[];constructor(e){super(),this.gameItem=e,this.cycles=a.Z.arrayToCycles(e.getPermutation()),this.cycles=a.Z.normalizeCycles(this.cycles),this.gfxObject=s.build(this.cycles),this.gfxObject.userData=this}createNewFrom(e){return new h(e)}animate(e,t){super.animate(e,t),"DISABLED"!==i.Z.value.rotateMode&&this.#e(t)}#e(e){"3D"===i.Z.value.rotateMode&&(this.gfxObject.children[0].rotation.x=.25*e),this.gfxObject.children[0].rotation.z=.25*e,this.gfxObject.children[0].children.filter((e=>e.children.length>=2)).forEach((t=>{"3D"===i.Z.value.rotateMode&&(t.rotation.x=.5*e),t.rotation.z=1.5*e/t.children.length}))}}}}]);