"use strict";(self.webpackChunksym_balls=self.webpackChunksym_balls||[]).push([[457],{457:(e,t,l)=>{l.r(t),l.d(t,{default:()=>d});var c=l(78),a=(l(288),l(54)),r=l(224),s=l(477);const i=[16711680,65280,255,16776960,65535,16711935],o=new s.xo$(1,16,8),n=new s.xo$(1,32,16),h=new s.Ilk(16777215),u=1*Math.PI;let y={indexToBall(e){const t={color:i[e]},l=r.Z.value.lightningEnabled?new s.xoR(t):new s.vBJ(t);return new s.Kj0(o,l)},cycleToGroup(e){let t=e.map((e=>this.indexToBall(e)));return this.createCircleGroup(t,1,.5)},cyclesToBubble(e){let t=e.map((e=>this.cycleToGroup(e))),l=this.createCircleGroup(t,1,.4);const c={color:h,transparent:!0,opacity:.3},a=r.Z.value.lightningEnabled?new s.xoR(c):new s.vBJ(c),i=new s.Kj0(n,a);return i.add(l),i.scale.multiplyScalar(.25),i},regularPolygonCircumradius:(e,t)=>e<=1?0:t/(2*Math.sin(Math.PI/e)),createCircleGroup(e,t,l){const c=new s.ZAu;e.forEach((e=>c.add(e)));const a=this.regularPolygonCircumradius(e.length,2*t);this.makeCircleWithObjects(e,a);const r=a+t+l;return c.scale.divideScalar(r),c},makeCircleWithObjects(e,t){let l=2*Math.PI/e.length;e.forEach(((e,c)=>{e.position.x=t*Math.cos(c*l),e.position.y=t*Math.sin(c*l)}))}};class d extends c.Z{cycles=[];constructor(e){super(),this.gameItem=e,this.cycles=a.Z.arrayToCycles(e.getPermutation()),this.cycles=a.Z.normalizeCycles(this.cycles),this.gfxObject=y.cyclesToBubble(this.cycles),this.gfxObject.userData=this}createNewFrom(e){return new d(e)}animate(e,t){r.Z.value.itemOscillation&&this.#e(t),"DISABLED"!==r.Z.value.rotateCycles&&this.#t(t)}#e(e){let t=Math.cos(e*u);this.gfxObject.scale.setScalar(.25*(1+.0125*t))}#t(e){"3D"===r.Z.value.rotateCycles&&(this.gfxObject.children[0].rotation.x=.25*e),this.gfxObject.children[0].rotation.z=.25*e,this.gfxObject.children[0].children.filter((e=>e.children.length>=2)).forEach((t=>{"3D"===r.Z.value.rotateCycles&&(t.rotation.x=.5*e),t.rotation.z=1.5*e/t.children.length}))}}}}]);